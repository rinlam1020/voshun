(function(b){reduxsa.field_objects=reduxsa.field_objects||{};reduxsa.field_objects.sortable=reduxsa.field_objects.sortable||{};var a="";reduxsa.field_objects.sortable.init=function(c){if(!c){c=b(document).find(".reduxsa-group-tab:visible").find(".reduxsa-container-sortable:visible")}b(c).each(function(){var e=b(this);var d=e;if(!e.hasClass("reduxsa-field-container")){d=e.parents(".reduxsa-field-container:first")}if(d.is(":hidden")){return}if(d.hasClass("reduxsa-field-init")){d.removeClass("reduxsa-field-init")}else{return}e.find(".reduxsa-sortable").sortable({handle:".drag",placeholder:"placeholder",opacity:0.7,scroll:false,out:function(f,g){if(!g.helper){return}if(g.offset.top>0){a="down"}else{a="up"}reduxsa.field_objects.sortable.scrolling(b(this).parents(".reduxsa-field-container:first"))},over:function(f,g){a=""},deactivate:function(f,g){a=""},update:function(f,g){reduxsa_change(b(this))}});e.find(".checkbox_sortable").on("click",function(){if(b(this).is(":checked")){e.find("#"+b(this).attr("rel")).val(1)}else{e.find("#"+b(this).attr("rel")).val("")}})})};reduxsa.field_objects.sortable.scrolling=function(c){if(c===undefined){return}var d=c.find(".reduxsa-sorter");if(a=="up"){d.scrollTop(d.scrollTop()-20);setTimeout(reduxsa.field_objects.sortable.scrolling,50)}else{if(a=="down"){d.scrollTop(d.scrollTop()+20);setTimeout(reduxsa.field_objects.sortable.scrolling,50)}}}})(jQuery);